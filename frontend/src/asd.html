<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
.range-slider {
  position: relative;
  width: 300px;
  margin: 50px auto;

}

input[type=range] {
  position: absolute;
  pointer-events: none;
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: none;
  top: 20px;
}

input[type=range]::-webkit-slider-thumb {
  pointer-events: all;
  width: 20px;
  height: 20px;
  background: #A3D9A5;
  border: 3px solid white;
  border-radius: 50%;
  cursor: pointer;
  -webkit-appearance: none;
  box-shadow: 0 0 2px #999;
}

.slider-track {
  position: absolute;
  top: 28px;
  height: 4px;
  background: #ddd;
  width: 100%;
  border-radius: 5px;
  /* z-index: 222; */
}

.tooltip {
  position: absolute;
  background: #A3D9A5;
  color: white;
  padding: 4px 10px;
  border-radius: 5px;
  font-size: 14px;
  top: -10px;
  transform: translateX(-50%);
  white-space: nowrap;
  font-weight: bold;
}

.tooltip::after {
  content: "";
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: #A3D9A5;
}


</style>
<body>
<div class="range-slider">
  <div class="slider-track"></div>
  <input type="range" min="0" max="500" value="85" id="range-min">
  <input type="range" min="0" max="500" value="247" id="range-max">
  <div class="tooltip min-tooltip">$85</div>
  <div class="tooltip max-tooltip">$247</div>
</div>

<script>
const minRange = document.getElementById("range-min");
const maxRange = document.getElementById("range-max");
const track = document.querySelector(".slider-track");
const minTooltip = document.querySelector(".min-tooltip");
const maxTooltip = document.querySelector(".max-tooltip");

function updateSlider() {
  let minVal = parseInt(minRange.value);
  let maxVal = parseInt(maxRange.value);

  if (maxVal - minVal < 20) {
    if (event.target === minRange) {
      minRange.value = maxVal - 20;
    } else {
      maxRange.value = minVal + 20;
    }
    minVal = parseInt(minRange.value);
    maxVal = parseInt(maxRange.value);
  }

  const minPercent = (minVal / 500) * 100;
  const maxPercent = (maxVal / 500) * 100;

  track.style.background = `linear-gradient(to right, #ddd ${minPercent}%, #A3D9A5 ${minPercent}%, #A3D9A5 ${maxPercent}%, #ddd ${maxPercent}%)`;

  minTooltip.textContent = `$${minVal}`;
  maxTooltip.textContent = `$${maxVal}`;

  minTooltip.style.left = `${minPercent}%`;
  maxTooltip.style.left = `${maxPercent}%`;
}

minRange.addEventListener("input", updateSlider);
maxRange.addEventListener("input", updateSlider);

updateSlider(); // initialize


</script>

</body>
</html>